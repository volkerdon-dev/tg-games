<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>TG Chess</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="brand">
        <h1>â™Ÿï¸ TG Chess</h1>
        <p>Play, learn, train â€” chess only</p>
      </div>
      <div class="pill">
        <span>âš¡</span>
        <span id="pillInfo">MVP</span>
      </div>
    </div>

    <div class="grid">
      <a class="card" href="./chess/index.html">
        <h2>â™Ÿï¸ Play</h2>
        <p>Play vs AI (MVP) â€” move pieces by tap/click</p>
      </a>

      <a class="card" href="./learn/index.html">
        <h2>ğŸ“š Learn</h2>
        <p>Short lessons + mini quiz</p>
      </a>

      <a class="card" href="./train/index.html">
        <h2>ğŸ¯ Train</h2>
        <p>Puzzles, streak, tactics themes</p>
      </a>

      <a class="card" href="./progress/index.html">
        <h2>ğŸ“ˆ Progress</h2>
        <p>Stats, streak, achievements (MVP)</p>
      </a>
    </div>

    <hr />

    <div class="panel">
      <div class="kv">
        <div>Todayâ€™s streak</div><div id="streak">â€”</div>
        <div>Lessons completed</div><div id="lessons">â€”</div>
        <div>Puzzles solved</div><div id="puzzles">â€”</div>
      </div>
      <p class="small" style="margin:12px 0 0">
        Tip: open <b>Train</b> and solve 5 puzzles daily â€” thatâ€™s the fastest improvement loop.
      </p>
    </div>
  </div>

  <script type="module">
    import { initTelegram } from "./shared/telegram.js";
    import { loadState, touch } from "./shared/storage.js";
    import { setText } from "./shared/ui.js";

    initTelegram();
    const state = loadState();
    touch(state);

    setText("streak", `${state.stats.streakDays} day(s)`);
    setText("lessons", String(state.stats.lessonsCompleted));
    setText("puzzles", String(state.stats.puzzlesSolved));
    setText("pillInfo", "Chess-only");
  </script>
</body>
</html>
